\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kt}{void} \PYG{n}{main}\PYG{p}{()} \PYG{k+kd}{async} \PYG{p}{\PYGZob{}}
\PYG{c+c1}{//set the  observer}
  \PYG{n}{Bloc}\PYG{p}{.}\PYG{n}{observer} \PYG{o}{=} \PYG{n}{AppBlocObserver}\PYG{p}{();}
  \PYG{c+c1}{//run di application and fetch todos}
  \PYG{n}{runApp}\PYG{p}{(} \PYG{n}{BlocProvider}\PYG{o}{\PYGZlt{}}\PYG{n}{TodoBloc}\PYG{o}{\PYGZgt{}}\PYG{p}{(}\PYG{n+nl}{create:}\PYG{p}{(}\PYG{n}{context}\PYG{p}{)}\PYG{o}{=\PYGZgt{}}
   \PYG{n}{TodoBloc}\PYG{p}{()..}\PYG{n}{add}\PYG{p}{(}\PYG{n}{LoadTodosEvent}\PYG{p}{()),}\PYG{n+nl}{child:} \PYG{k}{const} \PYG{n}{MyApp}\PYG{p}{()));}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}
